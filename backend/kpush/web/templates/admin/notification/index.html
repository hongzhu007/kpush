{% extends "admin/master.html" %}

{% block body %}
    <ul class="nav nav-tabs">
        <li role="presentation" {% if op_type == 'list' %} class="active" {% endif %}><a href="{{ url_for("adminnotificationview.list") }}">历史推送</a></li>
        <li role="presentation" {% if op_type == 'create' %} class="active" {% endif %}><a href="{{ url_for("adminnotificationview.create") }}">新推送</a></li>
    </ul>
    {% if op_type == 'list' %}
        <div class="col-sm-12">
            <table class="table table-hover table-striped">
                <thead>
                <tr>
                    <th>ID</th>
                    <th>APPID</th>
                    <th>标题</th>
                    <th>内容</th>
                    <th>推送时间</th>
                    <th>目标数</th>
                    <th>触达数</th>
                    <th>点击数</th>
                    <th>触达率</th>
                    <th>点击率</th>
                </tr>
                </thead>
                <tbody>
                    {% for notification in notification_list %}
                        <tr>
                            <td>{{ notification.id }}</td>
                            <td>{{ notification.appid }}</td>
                            <td>{{ notification.title }}</td>
                            <td>{{ notification.content }}</td>
                            <td>{{ notification.create_time.strftime("%Y-%m-%d %H:%M:%S") }}</td>
                            <td>{{ notification.stat.dst }}</td>
                            <td>{{ notification.stat.recv }}</td>
                            <td>{{ notification.stat.click }}</td>
                            <td>{{ notification.stat.recv_rate }}</td>
                            <td>{{ notification.stat.click_rate }}</td>
                        </tr>
                    {% endfor %}
                </tbody>

            </table>
        </div>
    {% elif op_type == 'create' %}
{{ form }}
    {% endif %}
{% endblock %}